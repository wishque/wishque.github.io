---
title: "内存分页总结"
date: 2023-07-04T10:40:49+08:00
draft: true
---

## 为什么要进行内存分页

操作系统的主要任务之一就是隔离各个应用程序的执行环境，操作系统会利用硬件级别的功能确保一个进程无法访问另一个进程的内存区域，但具体实现方式因硬件和操作系统而异。

在x86架构下，硬件为内存保护提供了两种不同的途径：段和页

## 什么是内存分页

### 内存分段
内存分段技术初衷是为了扩展可用内存，技术背景是当时cpu仅使用16位地址，为了扩展可用内存，出现了用于存储偏移量的段寄存器，cpu因此可以访问更多的内存。

cpu根据内存访问方式确定段寄存器的定义：
- 指令获取操作：代码寄存器CS（code segment)
- 栈操作：栈段寄存器SS (stack segment)
- 其他指令：数据段寄存器DS(data segment)或者额外段寄存器ES(extra segment)
后来添加了两个扩展段寄存器FS、GS,可以随意使用

在最初版本的内存分段中，段寄存器仅包含偏移量，不涉及到任何权限控制。

### 内存碎片

